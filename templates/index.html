<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>QUENCH Web App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
</head>
<body class="fade-in">
    <header>
        <h2>The Dashboard (‚åê‚ñ†_‚ñ†)</h2>
        <div class="header-right">
            <button id="themeToggle">üåì</button>
            <a href="{{ url_for('about') }}"><button>About</button></a>
        </div>
    </header>

    <main>
        <section class="column left">
            <div class="card">
                <h2>Admin Details</h2>
                <p>Name: Kinshuk Pandala</p>
                <p>Phone no: +91 9448858537</p>
                <p>Email: kinshuk2005@gmail.com</p>
                <p>UPI ID: kinshuk2005@okhdfcbank</p>
            </div>

            <div class="card">
                <h2>Live Logs</h2>
                <ul>
                    <li>Txn #1 ‚Äì ‚Çπ10</li>
                    <li>Txn #2 ‚Äì ‚Çπ20</li>
                    <li>Txn #3 ‚Äì ‚Çπ50</li>
                </ul>
                <button>View All</button>
            </div>

            <div class="card">
                <div class="water-level">
                    <span class="drop">üíß</span>
                    <span>30%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" style="width: 30%;"></div>
                </div>
            </div>
        </section>

        <section class="column middle">
            <div class="card stats">
                <h2>Live Stats</h2>
                <div class="stats-grid">
                    <div>Transactions: <strong>23</strong></div>
                    <div>Sensor Status: <strong>All Working</strong></div>
                    <div>Revenue: <strong>‚Çπ800</strong></div>
                    <div>Dispensed: <strong>12L</strong></div>
                </div>
            </div>

            <div class="card">
                <h2>Analytics</h2>
                <div class="analytics-filter">
                    <button class="filter-btn active" data-range="1D">1D</button>
                    <button class="filter-btn" data-range="3D">3D</button>
                    <button class="filter-btn" data-range="5D">5D</button>
                    <button class="filter-btn" data-range="7D">7D</button>
                    <button class="filter-btn" data-range="9D">9D</button>
                </div>
                <div class="analytics-chart">
                    <canvas id="analyticsChart" height="120"></canvas>
                </div>
            </div>
        </section>

        <section class="column right">
            <div class="card center-text">
                <strong id="datetime"></strong>
            </div>
            <div class="card center-text">
                <strong>üìç Academic Block 231</strong>
            </div>

            <div class="card system-health">
                <h2>System Stats</h2>
                <ul>
                  <li><strong>ESP32 Status:</strong> <span id="espStatus" style="color: yellow;">Checking...</span></li>
                  <li><strong>Wi-Fi Signal:</strong> <span id="wifiStrength">--</span></li>
                  <li><strong>Raspi Temp:</strong> <span id="temperature">-- ¬∞C</span></li>
                </ul> 
                <div class="subsection">
                  <h4>Memory Usage</h4>
                  <div class="progress-bar">
                    <div class="progress" id="memUsageBar" style="width: 0%; background-color: #00c853;"></div>
                  </div>
                  <small><span id="memUsed">--</span> / <span id="memTotal">--</span> GB</small>
                </div>
              </div>
        </section>
    </main>

    <div id="aboutModal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>About QUENCH</h2>
            <p><strong>QUENCH</strong> is a smart IoT-based water dispensing system with real-time UPI transaction verification and analytics. Built by engineers for a smarter future üíß</p>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>